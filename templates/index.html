<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkyWatch PTZ Control</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="main-container">
        <!-- Main Video Feed (1920x1080) -->
        <div class="video-section">
            <img src="{{ url_for('video_feed') }}" id="video-stream" alt="Video Feed">

            <!-- Video Overlay (Canvas) -->
            <canvas id="osd-canvas" width="1920" height="1080"></canvas>
        </div>
    </div>

    <!-- Control Sidebar -->
    <div class="control-sidebar">

        <div class="control-group">
            <label>TRACKING</label>
            <button id="btn-track" class="btn-primary">START AUTO TRACK (SPACE)</button>
        </div>

        <div class="control-group">
            <label>STABILIZATION</label>
            <button id="btn-stab" class="btn-toggle">START DIGITAL STAB (Z)</button>
        </div>

        <div class="control-group">
            <label>RECORDING</label>
            <button id="btn-rec" class="btn-toggle">START RECORDING (`)</button>
        </div>

        <div class="control-group">
            <label>SPEED LIMIT (Q/E)</label>
            <input type="range" id="range-speed" min="0.5" max="24" step="0.5" value="5">
            <span id="val-speed">5.0</span>
        </div>

        <div class="control-group">
            <label>PID TUNING</label>
            <div class="pid-inputs">
                <div class="input-wrap">
                    <span>P (1/2)</span>
                    <input type="number" id="input-p" step="0.01" min="0">
                </div>
                <div class="input-wrap">
                    <span>I (3/4)</span>
                    <input type="number" id="input-i" step="0.01" min="0">
                </div>
                <div class="input-wrap">
                    <span>D (5/6)</span>
                    <input type="number" id="input-d" step="0.01" min="0">
                </div>
                <button id="btn-update-pid" class="btn-action">UPDATE</button>
            </div>
        </div>

        <div class="control-group manual-controls">
            <label>MANUAL JOG</label>
            <div class="dpad">
                <button class="d-btn up" data-key="w">▲</button>
                <button class="d-btn left" data-key="a">◀</button>
                <button class="d-btn center" data-key="space">●</button>
                <button class="d-btn right" data-key="d">▶</button>
                <button class="d-btn down" data-key="s">▼</button>
            </div>
            <div class="zoom-btns">
                <button class="z-btn" data-key="r">ZOOM IN</button>
                <button class="z-btn" data-key="f">ZOOM OUT</button>
            </div>
        </div>
    </div>
    </div>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>

</html>